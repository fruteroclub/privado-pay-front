{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:3000/api';\nexport const createPaymentLink = async data => {\n  try {\n    console.log('Sending request to:', `${API_URL}/payment-link`);\n    console.log('Request data:', data);\n    const response = await axios.post(`${API_URL}/payment-link`, data);\n    console.log('Response:', response.data);\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response, _error$response2, _error$response3, _error$response3$data;\n      console.error('Error details:', {\n        message: error.message,\n        response: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data,\n        status: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status\n      });\n      throw new Error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || error.message);\n    }\n    throw error;\n  }\n};\nexport const getPaymentDetails = async orderId => {\n  try {\n    const response = await axios.get(`${API_URL}/pay/${orderId}`);\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response4, _error$response5, _error$response6, _error$response6$data;\n      console.error('Error details:', {\n        message: error.message,\n        response: (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data,\n        status: (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status\n      });\n      throw new Error(((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.error) || error.message);\n    }\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","API_URL","createPaymentLink","data","console","log","response","post","error","isAxiosError","_error$response","_error$response2","_error$response3","_error$response3$data","message","status","Error","getPaymentDetails","orderId","get","_error$response4","_error$response5","_error$response6","_error$response6$data"],"sources":["/Users/mac03/hackathon/privado-pay-front/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { PaymentLinkRequest, PaymentLinkResponse, PaymentDetails } from '../types/payment';\n\nconst API_URL = 'http://localhost:3000/api';\n\nexport const createPaymentLink = async (data: PaymentLinkRequest): Promise<PaymentLinkResponse> => {\n  try {\n    console.log('Sending request to:', `${API_URL}/payment-link`);\n    console.log('Request data:', data);\n    \n    const response = await axios.post(`${API_URL}/payment-link`, data);\n    console.log('Response:', response.data);\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      console.error('Error details:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status\n      });\n      throw new Error(error.response?.data?.error || error.message);\n    }\n    throw error;\n  }\n};\n\nexport const getPaymentDetails = async (orderId: string): Promise<PaymentDetails> => {\n  try {\n    const response = await axios.get(`${API_URL}/pay/${orderId}`);\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      console.error('Error details:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status\n      });\n      throw new Error(error.response?.data?.error || error.message);\n    }\n    throw error;\n  }\n}; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,OAAO,GAAG,2BAA2B;AAE3C,OAAO,MAAMC,iBAAiB,GAAG,MAAOC,IAAwB,IAAmC;EACjG,IAAI;IACFC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE,GAAGJ,OAAO,eAAe,CAAC;IAC7DG,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,IAAI,CAAC;IAElC,MAAMG,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,GAAGN,OAAO,eAAe,EAAEE,IAAI,CAAC;IAClEC,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEC,QAAQ,CAACH,IAAI,CAAC;IACvC,OAAOG,QAAQ,CAACH,IAAI;EACtB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACd,IAAIR,KAAK,CAACS,YAAY,CAACD,KAAK,CAAC,EAAE;MAAA,IAAAE,eAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,qBAAA;MAC7BT,OAAO,CAACI,KAAK,CAAC,gBAAgB,EAAE;QAC9BM,OAAO,EAAEN,KAAK,CAACM,OAAO;QACtBR,QAAQ,GAAAI,eAAA,GAAEF,KAAK,CAACF,QAAQ,cAAAI,eAAA,uBAAdA,eAAA,CAAgBP,IAAI;QAC9BY,MAAM,GAAAJ,gBAAA,GAAEH,KAAK,CAACF,QAAQ,cAAAK,gBAAA,uBAAdA,gBAAA,CAAgBI;MAC1B,CAAC,CAAC;MACF,MAAM,IAAIC,KAAK,CAAC,EAAAJ,gBAAA,GAAAJ,KAAK,CAACF,QAAQ,cAAAM,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBT,IAAI,cAAAU,qBAAA,uBAApBA,qBAAA,CAAsBL,KAAK,KAAIA,KAAK,CAACM,OAAO,CAAC;IAC/D;IACA,MAAMN,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMS,iBAAiB,GAAG,MAAOC,OAAe,IAA8B;EACnF,IAAI;IACF,MAAMZ,QAAQ,GAAG,MAAMN,KAAK,CAACmB,GAAG,CAAC,GAAGlB,OAAO,QAAQiB,OAAO,EAAE,CAAC;IAC7D,OAAOZ,QAAQ,CAACH,IAAI;EACtB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACd,IAAIR,KAAK,CAACS,YAAY,CAACD,KAAK,CAAC,EAAE;MAAA,IAAAY,gBAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,qBAAA;MAC7BnB,OAAO,CAACI,KAAK,CAAC,gBAAgB,EAAE;QAC9BM,OAAO,EAAEN,KAAK,CAACM,OAAO;QACtBR,QAAQ,GAAAc,gBAAA,GAAEZ,KAAK,CAACF,QAAQ,cAAAc,gBAAA,uBAAdA,gBAAA,CAAgBjB,IAAI;QAC9BY,MAAM,GAAAM,gBAAA,GAAEb,KAAK,CAACF,QAAQ,cAAAe,gBAAA,uBAAdA,gBAAA,CAAgBN;MAC1B,CAAC,CAAC;MACF,MAAM,IAAIC,KAAK,CAAC,EAAAM,gBAAA,GAAAd,KAAK,CAACF,QAAQ,cAAAgB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBnB,IAAI,cAAAoB,qBAAA,uBAApBA,qBAAA,CAAsBf,KAAK,KAAIA,KAAK,CAACM,OAAO,CAAC;IAC/D;IACA,MAAMN,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}